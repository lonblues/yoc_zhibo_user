{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/pages/demo.vue?c0df","webpack:///./src/App.vue?1092","webpack:///src/App.vue","webpack:///./src/App.vue?7d52","webpack:///./src/App.vue","webpack:///./src/pages/demo.vue?bf7a","webpack:///./src/utils/request.js","webpack:///./src/api/demo.js","webpack:///src/pages/demo.vue","webpack:///./src/pages/demo.vue?5dce","webpack:///./src/pages/demo.vue","webpack:///./src/router/index.js","webpack:///./src/store/index.js","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","staticRenderFns","components","methods","component","showInfo","on","$event","_v","model","callback","$$v","userId","expression","joinRoom","_m","staticClass","service","axios","baseURL","timeout","listActiveRooms","request","post","function","createRoomToken","room","type","listRoomUsers","console","log","audioDevice","videoDevice","audioDevices","videoDevices","roomToken","userList","currentUser","lastUser","showToken","userToken","room_list","currentRoom","mounted","addDeviceToSelect","deviceInfo","forEach","info","kind","subscribeUser","myRoom","subscribe","then","stream","play","remoteContainer","Promise","resolve","res","chooseRoom","changeView","stopView","stopMergeStream","Vue","use","Router","originalPush","location","catch","err","router","routes","path","Demo","Vuex","store","Store","state","mutations","plugins","createPersistedState","config","productionTip","ElementUI","render","h","App","$mount"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,IAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,6ECvJT,W,kJCAI,EAAS,WAAa,IAAIyC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,CAAC,OAAS,QAAQC,MAAM,CAAC,GAAK,QAAQ,CAACH,EAAG,gBAAgB,IAC5KI,EAAkB,GCOtB,GACEC,WAAY,GAGZtE,KAJF,WAKI,MAAO,IAITuE,QAAS,ICjBuZ,I,YCO9ZC,EAAY,eACd,EACA,EACAH,GACA,EACA,KACA,WACA,MAIa,EAAAG,E,oBClBX,EAAS,WAAa,IAAIX,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,GAAG,CAACA,EAAG,YAAY,CAACG,MAAM,CAAC,QAAUP,EAAIY,SAAS,MAAQ,QAAQC,GAAG,CAAC,iBAAiB,SAASC,GAAQd,EAAIY,SAASE,KAAU,CAACV,EAAG,IAAI,CAACJ,EAAIe,GAAG,SAASX,EAAG,WAAW,CAACY,MAAM,CAAChC,MAAOgB,EAAU,OAAEiB,SAAS,SAAUC,GAAMlB,EAAImB,OAAOD,GAAKE,WAAW,YAAYhB,EAAG,MAAM,CAACA,EAAG,YAAY,CAACE,YAAY,CAAC,aAAa,QAAQC,MAAM,CAAC,KAAO,WAAWM,GAAG,CAAC,MAAQb,EAAIqB,WAAW,CAACrB,EAAIe,GAAG,SAAS,IAAI,IAAI,GAAGX,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAWM,GAAG,CAAC,MAAQ,SAASC,GAAQd,EAAIY,UAAS,KAAQ,CAACZ,EAAIe,GAAG,UAAUf,EAAIsB,GAAG,IAAI,IACpnB,EAAkB,CAAC,WAAa,IAAItB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACmB,YAAY,SAAS,CAACnB,EAAG,IAAI,CAACJ,EAAIe,GAAG,UAAUX,EAAG,MAAM,CAACE,YAAY,CAAC,MAAQ,SAASC,MAAM,CAAC,GAAK,gBAAgBH,EAAG,IAAI,CAACJ,EAAIe,GAAG,UAAUX,EAAG,MAAM,CAACmB,YAAY,UAAU,CAACnB,EAAG,MAAM,CAACE,YAAY,CAAC,MAAQ,OAAOC,MAAM,CAAC,GAAK,YAAYH,EAAG,MAAM,CAACE,YAAY,CAAC,MAAQ,OAAOC,MAAM,CAAC,GAAK,SAASH,EAAG,MAAM,CAACE,YAAY,CAAC,MAAQ,OAAO,aAAa,QAAQC,MAAM,CAAC,GAAK,mB,qGCA3diB,EAAUC,IAAMpC,OAAO,CAC3BqC,QAAS,cACTC,QAAS,MAEIH,ICAR,SAASI,IACd,OAAOC,EAAQC,KAAK,cAAe,CACjCC,SAAU,oBAIP,SAASC,EAAiBC,EAAMd,EAAQe,GAC7C,OAAOL,EAAQC,KAAK,cAAe,CACjCC,SAAU,kBACVE,OACAd,SACAe,SAIG,SAASC,EAAeF,GAC7B,OAAOJ,EAAQC,KAAK,cAAe,CACjCC,SAAU,gBACVE,SCoDJ,iCAEAG,QAAQC,IAAI,qBAAsB,EAAlC,YACA,OACElG,KADF,WAEI,MAAO,CACLmG,YAAa,GACbC,YAAa,GACbC,aAAc,GACdC,aAAc,GACdC,UAAW,GACXC,SAAU,GACVC,YAAa,GACbC,SAAU,GACVjC,UAAU,EACVkC,WAAW,EACXb,KAAM,GACNd,OAAQ,GACR4B,UAAW,GACXC,UAAW,GACXd,KAAM,QACNe,YAAa,KAGjBC,QArBF,WAqBA,WACIjD,KAAK2B,kBAED,EAAR,6BACM3B,KAAKkD,kBAAkB,EAA7B,6BAGI,EAAJ,iDACM,EAAN,yBAIEzC,QAAS,CACPyC,kBADJ,SACA,GACM,IAAN,KACA,KACMC,EAAWC,SAAQ,SAAzB,GAC0B,eAAdC,EAAKC,KACPf,EAAavF,KAAKqG,GAC5B,uBACUb,EAAaxF,KAAKqG,MAGtBrD,KAAKuC,aAAeA,EACpBvC,KAAKwC,aAAeA,GAEtB,SAdJ,WAcA,sLAGA,oBAHA,cAGA,EAHA,yBAOA,uBAPA,OAOA,EAPA,wBAUA,GAVA,IAUA,qCACA,mCACA,mBACA,mCACA,gBACA,gCAEA,qCAjBA,0FAsBA,oBACA,kDAvBA,kCA4BA,iCACA,6BA7BA,UAkCA,mBAlCA,QAoCA,oBApCA,6DAwCI,cAtDJ,WAsDA,8KAKA,mCACA,QACA,WACA,gBACA,YACA,YACA,YAEA,OACA,cAdA,OAKA,EALA,iEAkBA,oBACA,oDAnBA,kCAwBA,wCACA,aAzBA,oBA6BA,aA7BA,8DA+BA,oBACA,4CAhCA,oEAmCI,QAzFJ,WAyFA,yLAKA,mCACA,OACA,WACA,uBACA,YACA,YACA,YAEA,OACA,WACA,0BAfA,OAKA,EALA,iEAmBA,oBACA,oDApBA,kCAyBA,wCACA,aA1BA,oBA8BA,aA9BA,8DAgCA,oBACA,4CAjCA,oEAoCIe,cA7HJ,SA6HA,KACM,IAAN,6BAEMC,EAAOC,UAAUvC,GAAQwC,MAAK,SAApC,GACQC,EAAOC,KAAKC,OAGhBlC,gBApIJ,WAoIA,WACM,IAAN,kBACQ,EAAR,2BAGII,gBAzIJ,WAyIA,WACM,OAAO,IAAI+B,SAAQ,SAAzB,KACQ,EAAR,0CACUC,EAAQC,EAAI9H,KAAKA,aAKvBgG,cAjJJ,WAiJA,WACM,EAAN,0BACQC,QAAQC,IAAI4B,GACZ,EAAR,0BAGIC,WAvJJ,SAuJA,GACMjE,KAAKgD,YAAchB,EACnBhC,KAAKkC,iBAEPgC,WA3JJ,WA2JA,uBACA,eADA,IACA,0CACA,2BACA,yCACA,2CAGA,iCACA,sCARA,gCAaIC,SAxKJ,WAyKMX,EAAOY,qBCxRqa,ICQ9a,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,OAIa,I,QCffC,aAAIC,IAAIC,QACR,IAAMC,EAAeD,OAAO3H,UAAUI,KACtCuH,OAAO3H,UAAUI,KAAO,SAAeyH,GACrC,OAAOD,EAAa1H,KAAKkD,KAAMyE,GAAUC,OAAM,SAAAC,GAAG,OAAIA,MAExD,IAAMC,EAAS,IAAIL,OAAO,CACxBM,OAAQ,CACN,CACEC,KAAM,IACNpE,UAAWqE,MAmBFH,I,8CC3BfP,aAAIC,IAAIU,QAER,IAAMC,EAAQ,IAAID,OAAKE,MAAM,CAC3BC,MAAO,GAGPC,UAAW,GAIXC,QAAS,CAACC,oBAGGL,ICVfZ,aAAIkB,OAAOC,eAAgB,EAE3BnB,aAAIC,IAAImB,KAER,IAAIpB,aAAI,CACNO,SACAK,QACAS,OAAQ,SAAAC,GAAC,OAAIA,EAAEC,MACdC,OAAO","file":"js/app.18162f84.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./demo.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"100%\"},attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"app\" style=\"height:100%\">\r\n\r\n      <router-view />\r\n\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  components: {\r\n\r\n  },\r\n  data () {\r\n    return {\r\n\r\n    }\r\n  },\r\n  methods: {\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>\r\n","import mod from \"-!../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=b3c4ecce&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b3c4ecce\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{},[_c('el-dialog',{attrs:{\"visible\":_vm.showInfo,\"title\":\"输入信息\"},on:{\"update:visible\":function($event){_vm.showInfo=$event}}},[_c('p',[_vm._v(\"用户名\")]),_c('el-input',{model:{value:(_vm.userId),callback:function ($$v) {_vm.userId=$$v},expression:\"userId\"}}),_c('div',[_c('el-button',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.joinRoom}},[_vm._v(\"加入\")])],1)],1)],1),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.showInfo=true}}},[_vm._v(\"加入房间\")]),_vm._m(0)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"users\"},[_c('p',[_vm._v(\"本地视频\")]),_c('div',{staticStyle:{\"width\":\"500px\"},attrs:{\"id\":\"localvideo\"}}),_c('p',[_vm._v(\"会议内容\")]),_c('div',{staticClass:\"remote\"},[_c('div',{staticStyle:{\"width\":\"50%\"},attrs:{\"id\":\"mobile\"}}),_c('div',{staticStyle:{\"width\":\"50%\"},attrs:{\"id\":\"ppt\"}}),_c('div',{staticStyle:{\"width\":\"100%\",\"margin-top\":\"50px\"},attrs:{\"id\":\"meeting\"}})])])}]\n\nexport { render, staticRenderFns }","import axios from 'axios'\r\nconst service = axios.create({\r\n  baseURL: './index.php', // api 的 base_url\r\n  timeout: 5000 // request timeout\r\n})\r\nexport default service\r\n","/**\r\n * Created by huzeyin on 2020/5/12.\r\n */\r\nimport request from '../utils/request'\r\n\r\nexport function listActiveRooms () {\r\n  return request.post('./index.php', {\r\n    function: 'listActiveRooms'\r\n  })\r\n}\r\n\r\nexport function createRoomToken (room, userId, type) {\r\n  return request.post('./index.php', {\r\n    function: 'createRoomToken',\r\n    room,\r\n    userId,\r\n    type\r\n  })\r\n}\r\n\r\nexport function listRoomUsers (room) {\r\n  return request.post('./index.php', {\r\n    function: 'listRoomUsers',\r\n    room\r\n  })\r\n}\n","<template>\r\n    <div>\r\n        <!-- <div>\r\n            <div>\r\n                <span>选择麦克风</span>\r\n                <el-select v-model=\"audioDevice\" style=\"margin-left:10px\">\r\n                    <el-option v-for=\"(item,index) in audioDevices\" :key=\"index\" :label=\"item.label\" :value=\"item.deviceId\"></el-option>\r\n                </el-select>\r\n            </div>\r\n            <div>\r\n                <span>选择摄像头</span>\r\n                <el-select v-model=\"videoDevice\" style=\"margin-left:10px\">\r\n                    <el-option v-for=\"(item,index) in videoDevices\" :key=\"index\" :label=\"item.label\" :value=\"item.deviceId\"></el-option>\r\n                </el-select>\r\n            </div>\r\n        </div> -->\r\n        <div style=\"\">\r\n            <!-- <el-button type=\"primary\" @click=\"showInfo=true\">生成roomToken</el-button> -->\r\n            <!-- <p>活跃房间列表</p>\r\n            <el-table :data=\"room_list\" border>\r\n                <el-table-column label=\"房间名\">\r\n                    <template slot-scope=\"scope\">\r\n                        {{scope.row}}\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column>\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button type=\"primary\" @click=\"chooseRoom(scope.row)\">选择</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table> -->\r\n            <el-dialog :visible.sync=\"showInfo\" title=\"输入信息\">\r\n                \r\n                <p>用户名</p><el-input v-model=\"userId\"></el-input>\r\n              \r\n                <div>\r\n                  <el-button type=\"primary\" style=\"margin-top:20px\" @click=\"joinRoom\">加入</el-button>\r\n                </div>\r\n            </el-dialog>\r\n            <!-- <el-dialog :visible.sync=\"showToken\">\r\n                <p>userToken：</p>\r\n                <p>{{userToken}}</p>\r\n            </el-dialog> -->\r\n\r\n            <!-- <div style=\"margin-top:50px;margin-bottom:50px\">\r\n                <el-select v-model=\"currentUser\" @focus=\"listRoomUsers\">\r\n                    <el-option v-for=\"(item,index) in userList\" :key=\"index\" :value=\"item.userId\" :label=\"item.userId\"></el-option>\r\n                </el-select>\r\n                <el-button @click=\"changeView\" type=\"primary\">选择用户推流</el-button>\r\n                <el-button @click=\"stopView\">停止推流</el-button>\r\n            </div> -->\r\n\r\n        </div>\r\n\r\n        <!-- <label>请输入 RoomToken 加入房间开始连麦</label>\r\n        <el-input v-model=\"roomToken\" type=\"text\"></el-input> -->\r\n        <el-button type=\"primary\" @click=\"showInfo=true\">加入房间</el-button>\r\n\r\n        <div class=\"users\">\r\n            <p>本地视频</p>\r\n            <div id=\"localvideo\" style=\"width:500px\"></div>\r\n            <p>会议内容</p>\r\n            <div class=\"remote\">\r\n              <div id=\"mobile\" style=\"width:50%\"></div>\r\n              <div id=\"ppt\" style=\"width:50%\"></div>\r\n              <div id=\"meeting\" style=\"width:100%;margin-top:50px\"></div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport * as QNRTC from 'pili-rtc-web'\r\nimport { listActiveRooms, createRoomToken, listRoomUsers } from '../api/demo'\r\nconst myRoom = new QNRTC.StreamModeSession()\r\n\r\nconsole.log('current version is', QNRTC.version)\r\nexport default {\r\n  data () {\r\n    return {\r\n      audioDevice: '',\r\n      videoDevice: '',\r\n      audioDevices: [],\r\n      videoDevices: [],\r\n      roomToken: '',\r\n      userList: [],\r\n      currentUser: '',\r\n      lastUser: '',\r\n      showInfo: false,\r\n      showToken: false,\r\n      room: '',\r\n      userId: '',\r\n      userToken: '',\r\n      room_list: [],\r\n      type: 'admin',\r\n      currentRoom: ''\r\n    }\r\n  },\r\n  mounted () {\r\n    this.listActiveRooms()\r\n    \r\n    if (QNRTC.deviceManager.deviceInfo) {\r\n      this.addDeviceToSelect(QNRTC.deviceManager.deviceInfo)\r\n    }\r\n    \r\n    QNRTC.deviceManager.on('device-update', deviceInfo => {\r\n      this.addDeviceToSelect(deviceInfo)\r\n    })\r\n    \r\n  },\r\n  methods: {\r\n    addDeviceToSelect (deviceInfo) {\r\n      let audioDevices = []\r\n      let videoDevices = []\r\n      deviceInfo.forEach(info => {\r\n        if (info.kind === 'audioinput') {\r\n          audioDevices.push(info)\r\n        } else if (info.kind === 'videoinput') {\r\n          videoDevices.push(info)\r\n        }\r\n      })\r\n      this.audioDevices = audioDevices\r\n      this.videoDevices = videoDevices\r\n    },\r\n    async joinRoom () {\r\n      // 从输入框中获取 roomToken\r\n\r\n      const roomToken = await this.createRoomToken()\r\n\r\n      try {\r\n        // 加入房间\r\n        const users = await myRoom.joinRoomWithToken(roomToken)\r\n\r\n        // 如果加入房间后发现房间已经有人发布，就订阅他\r\n        for (const user of users) {\r\n          if (user.userId !== myRoom.userId && user.published) {\r\n            if(user.userId=='mobile'){\r\n              this.subscribeUser(user.userId,'mobile')\r\n            }else if(user.userId=='ppt'){\r\n              this.subscribeUser(user.userId,'ppt')\r\n            }else{\r\n              this.subscribeUser(user.userId,'meeting')\r\n            }\r\n          }\r\n        }\r\n      } catch (e) {\r\n        console.error(e)\r\n        alert(`加入房间失败！ErrorCode: ${e.code || ''}`)\r\n        return\r\n      }\r\n\r\n      // 监听房间中其他人发布的事件，自动订阅他\r\n      myRoom.on('user-publish', (user) => {\r\n        this.subscribeUser(user.userId)\r\n       \r\n      })\r\n\r\n      // 自动发布\r\n      await this.publishScreen(myRoom)\r\n\r\n      this.listActiveRooms()\r\n\r\n    },\r\n\r\n    async publishScreen () {\r\n      let stream\r\n      try {\r\n        // 通过用户在页面上指定的设备发起采集\r\n        // 也可以不指定设备，这样会由浏览器自动选择\r\n        stream = await QNRTC.deviceManager.getLocalStream({\r\n          screen: {\r\n              enabled: true,\r\n              source: \"window\",\r\n              bitrate: 600,\r\n              height: 1080,\r\n              width: 1920,\r\n          },\r\n          audio: {\r\n              enabled: false,\r\n          }\r\n        })\r\n      } catch (e) {\r\n        console.error(e)\r\n        alert(`采集失败，请检查您的设备。ErrorCode: ${e.code}`)\r\n        return\r\n      }\r\n\r\n      // 将采集到的流静音播放\r\n      const localVideo = document.getElementById('localvideo')\r\n      stream.play(localVideo, true)\r\n\r\n      try {\r\n        // 发布采集流\r\n        await myRoom.publish(stream)\r\n      } catch (e) {\r\n        console.error(e)\r\n        alert(`发布失败，ErrorCode: ${e.code}`)\r\n      }\r\n    },\r\n    async publish () {\r\n      let stream\r\n      try {\r\n        // 通过用户在页面上指定的设备发起采集\r\n        // 也可以不指定设备，这样会由浏览器自动选择\r\n        stream = await QNRTC.deviceManager.getLocalStream({\r\n          video: {\r\n            enabled: true,\r\n            deviceId: this.videoDevice,\r\n            bitrate: 1000,\r\n            height:1080,\r\n            width:1920\r\n          },\r\n          audio: {\r\n            enabled: true,\r\n            deviceId: this.audioDevice\r\n          }\r\n        })\r\n      } catch (e) {\r\n        console.error(e)\r\n        alert(`采集失败，请检查您的设备。ErrorCode: ${e.code}`)\r\n        return\r\n      }\r\n\r\n      // 将采集到的流静音播放\r\n      const localVideo = document.getElementById('localvideo')\r\n      stream.play(localVideo, true)\r\n\r\n      try {\r\n        // 发布采集流\r\n        await myRoom.publish(stream)\r\n      } catch (e) {\r\n        console.error(e)\r\n        alert(`发布失败，ErrorCode: ${e.code}`)\r\n      }\r\n    },\r\n    subscribeUser (userId,position) {\r\n      const remoteContainer = document.getElementById(position)\r\n      // 订阅目标用户\r\n      myRoom.subscribe(userId).then(stream => {\r\n        stream.play(remoteContainer)\r\n      })\r\n    },\r\n    listActiveRooms () {\r\n      listActiveRooms().then(res => {\r\n        this.room_list = res.data.rooms\r\n      })\r\n    },\r\n    createRoomToken () {\r\n      return new Promise((resolve,reject)=>{\r\n        createRoomToken('test',this.userId, 'user').then(res => {\r\n          resolve(res.data.data)\r\n        })\r\n      })\r\n      \r\n    },\r\n    listRoomUsers () {\r\n      listRoomUsers('test').then(res => {\r\n        console.log(res)\r\n        this.userList = res.data.users\r\n      })\r\n    },\r\n    chooseRoom (room) {\r\n      this.currentRoom = room\r\n      this.listRoomUsers()\r\n    },\r\n    changeView () {\r\n      for (let item of this.userList) {\r\n        if (item.userId == this.currentUser) {\r\n          myRoom.setMergeStreamLayout(this.currentUser, {\r\n            x: 0, y: 0, w: 1920, h: 1080, hidden: false, muted: false\r\n          })\r\n        } else {\r\n           myRoom.setMergeStreamLayout(item.userId, {\r\n            x: 0, y: 0, w: 0, h: 0, hidden: false, muted: false\r\n          })\r\n        }\r\n      }\r\n    },\r\n    stopView(){\r\n      myRoom.stopMergeStream();\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\nselect {\r\n  width: 300px;\r\n}\r\n\r\nsection {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.qnrtc-stream-player {\r\n  width: 100% !important;\r\n  /* height: 1080px !important; */\r\n  background: #000;\r\n}\r\n.remote{\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./demo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./demo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./demo.vue?vue&type=template&id=1a83822c&\"\nimport script from \"./demo.vue?vue&type=script&lang=js&\"\nexport * from \"./demo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./demo.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport Demo from '../pages/demo.vue'\r\n\r\nVue.use(Router)\r\nconst originalPush = Router.prototype.push\r\nRouter.prototype.push = function push (location) {\r\n  return originalPush.call(this, location).catch(err => err)\r\n}\r\nconst router = new Router({\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      component: Demo\r\n    }\r\n  ]\r\n})\r\n// router.beforeEach((to, from, next) => {\r\n//   if (to.path === '/login') {\r\n//     next()\r\n//   } else {\r\n//     var userId = getUserId()\r\n//     console.log('userId:' + userId)\r\n//     if (to.meta.requiresAuth && !userId) {\r\n//       next({\r\n//         path: '/login'\r\n//       })\r\n//     } else {\r\n//       next()\r\n//     }\r\n//   }\r\n// })\r\nexport default router\r\n","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\n\r\nimport createPersistedState from 'vuex-persistedstate'\r\n\r\nVue.use(Vuex)\r\n\r\nconst store = new Vuex.Store({\r\n  state: {\r\n\r\n  },\r\n  mutations: {\r\n\r\n  },\r\n\r\n  plugins: [createPersistedState()]\r\n})\r\n\r\nexport default store\r\n","import Vue from 'vue'\r\nimport ElementUI from 'element-ui'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport 'element-ui/lib/theme-chalk/index.css'\r\nimport 'normalize.css'\r\nimport store from './store'\r\n\r\nVue.config.productionTip = false\r\n\r\nVue.use(ElementUI)\r\n\r\nnew Vue({\r\n  router,\r\n  store,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n"],"sourceRoot":""}